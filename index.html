<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Guide Complet â€“ Pharma Gestion (Anapharmo)</title>
<meta name="description" content="Documentation complÃ¨te pour l'application React Pharma Gestion / Anapharmo - Gestion moderne de pharmacie." />
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Ctext y='.9em' font-size='96'%3Eâš•ï¸%3C/text%3E%3C/svg%3E">
<style>
  /* ======================= THEME PHARMACIE PROFESSIONNEL ======================= */
  :root{
    --bg:#f8fafb; 
    --surface:#ffffff; 
    --text:#1a2332; 
    --muted:#5a6c7d;
    --primary:#00A651;
    --primary-dark:#008542;
    --accent:#0066CC;
    --accent-light:#4d94ff;
    --success:#10b981; 
    --warn:#f59e0b; 
    --danger:#ef4444;
    --border:rgba(0,166,81,.12); 
    --shadow:0 2px 12px rgba(0,166,81,.08);
    --shadow-lg:0 8px 30px rgba(0,166,81,.12);
    --radius:12px; 
    --radius-sm:8px; 
  }
  
  [data-theme="dark"]{
    --bg:#0d1117; 
    --surface:#161b22; 
    --text:#e6edf3; 
    --muted:#8b949e;
    --primary:#10b981; 
    --primary-dark:#059669;
    --accent:#4d94ff;
    --border:rgba(16,185,129,.15); 
    --shadow:0 2px 12px rgba(0,0,0,.3);
    --shadow-lg:0 8px 30px rgba(0,0,0,.4);
  }

  *{box-sizing:border-box; margin:0; padding:0} 
  html,body{height:100%}
  body{
    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', Arial, sans-serif;
    color:var(--text); 
    background:var(--bg);
    line-height:1.6;
  }

  a{color:inherit; text-decoration:none} 
  img{max-width:100%; height:auto}

  /* ======================= LAYOUT RESPONSIVE ======================= */
  .layout{
    display:grid; 
    grid-template-columns: 320px 1fr; 
    gap:0; 
    min-height:100vh;
  }
  
  @media (max-width:1100px){ 
    .layout{grid-template-columns: 280px 1fr} 
  }
  
  @media (max-width:768px){ 
    .layout{grid-template-columns: 1fr} 
  }

  aside{
    position:sticky; 
    top:0; 
    align-self:start; 
    height:100vh; 
    overflow:auto;
    border-right:2px solid var(--border);
    background:var(--surface);
    box-shadow:var(--shadow-lg);
  }
  
  @media (max-width:1100px){ 
    aside{ 
      font-size:14px;
    } 
  }
  
  @media (max-width:768px){ 
    aside{ 
      position:static; 
      height:auto;
      border-right:none;
      border-bottom:2px solid var(--border);
    } 
  }

  .pharma-cross{
    width:42px;
    height:42px;
    background:linear-gradient(135deg, var(--primary), var(--primary-dark));
    position:relative;
    border-radius:6px;
    box-shadow:var(--shadow-lg);
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .pharma-cross::before,
  .pharma-cross::after{
    content:'';
    position:absolute;
    background:#fff;
  }
  .pharma-cross::before{
    width:6px;
    height:24px;
  }
  .pharma-cross::after{
    width:24px;
    height:6px;
  }

  .brand{
    padding:28px 24px; 
    display:flex; 
    gap:16px; 
    align-items:center;
    border-bottom:2px solid var(--border); 
    background:linear-gradient(135deg, rgba(0,166,81,.05), rgba(0,102,204,.03));
  }
  .brand h1{
    margin:0; 
    font-size:20px; 
    font-weight:700; 
    letter-spacing:.3px;
    color:var(--primary-dark);
  }
  .brand small{
    display:block; 
    color:var(--muted); 
    font-weight:500;
    font-size:13px;
  }
  
  @media (max-width:768px){
    .brand{
      padding:20px 16px;
      gap:12px;
    }
    .brand h1{
      font-size:18px;
    }
    .brand small{
      font-size:12px;
    }
  }

  .tools{
    display:flex; 
    gap:10px; 
    padding:20px 24px; 
    border-bottom:1px solid var(--border); 
    flex-wrap:wrap;
    background:rgba(0,166,81,.02);
  }
  
  @media (max-width:768px){
    .tools{
      padding:16px;
      gap:8px;
    }
  }

  .btn{
    appearance:none; 
    border:1.5px solid var(--border); 
    background:var(--surface);
    color:var(--text); 
    padding:10px 16px; 
    border-radius:var(--radius-sm); 
    font-weight:600; 
    font-size:14px;
    cursor:pointer; 
    transition:all .2s ease;
    box-shadow:var(--shadow);
  }
  .btn:hover{
    transform:translateY(-2px);
    box-shadow:var(--shadow-lg);
    border-color:var(--primary);
  }
  .btn:active{transform:translateY(0)}
  .btn.primary{
    background:linear-gradient(135deg, var(--primary), var(--primary-dark)); 
    border:0; 
    color:#fff;
  }
  .btn.accent{
    background:linear-gradient(135deg, var(--accent), var(--accent-light)); 
    border:0; 
    color:#fff;
  }
  .btn.ghost{
    background:transparent; 
    box-shadow:none;
    border:1px solid transparent;
  }
  .btn.ghost:hover{
    background:rgba(0,166,81,.08);
    border-color:var(--border);
  }
  
  @media (max-width:768px){
    .btn{
      padding:8px 12px;
      font-size:13px;
    }
  }

  .search{
    padding:20px 24px; 
    border-bottom:1px solid var(--border);
  }
  .search input{
    width:100%; 
    padding:12px 16px; 
    border-radius:var(--radius-sm); 
    border:2px solid var(--border);
    background:var(--surface); 
    color:var(--text); 
    font-weight:500;
    transition:all .2s;
  }
  .search input:focus{
    outline:none; 
    border-color:var(--primary);
    box-shadow:0 0 0 4px rgba(0,166,81,.1);
  }

  .toc{
    padding:24px 0; 
    overflow-y:auto; 
    max-height:calc(100vh - 320px);
  }
  .toc a{
    display:block; 
    padding:10px 24px; 
    border-left:3px solid transparent;
    transition:all .15s;
    font-weight:500;
    font-size:14.5px;
  }
  .toc a:hover{
    background:rgba(0,166,81,.06);
    border-left-color:var(--primary);
    padding-left:28px;
  }
  .toc a.active{
    background:linear-gradient(90deg, rgba(0,166,81,.12), transparent);
    border-left-color:var(--primary);
    color:var(--primary-dark);
    font-weight:700;
  }

  main{
    padding:48px 60px 80px; 
    max-width:1200px; 
    margin:0 auto;
  }
  
  @media (max-width:768px){
    main{
      padding:32px 20px 60px;
    }
  }

  main h2{
    font-size:36px; 
    margin-bottom:12px; 
    background:linear-gradient(135deg, var(--primary), var(--accent));
    -webkit-background-clip:text;
    background-clip:text;
    -webkit-text-fill-color:transparent;
  }
  main h3{
    margin:56px 0 20px; 
    font-size:26px; 
    display:flex; 
    align-items:center; 
    gap:12px;
    color:var(--primary-dark);
  }
  main h4{
    margin:32px 0 14px; 
    font-size:19px;
    color:var(--primary-dark);
  }
  main p{
    margin:16px 0; 
    font-size:16px;
  }
  .lead{
    font-size:18px; 
    font-weight:500; 
    color:var(--muted);
  }

  section{
    margin-bottom:60px;
  }
  section.hidden{
    display:none;
  }

  .card{
    background:var(--surface); 
    border:2px solid var(--border);
    border-radius:var(--radius); 
    padding:24px; 
    margin:24px 0;
    box-shadow:var(--shadow);
    transition:transform .2s, box-shadow .2s;
  }
  .card:hover{
    transform:translateY(-4px);
    box-shadow:var(--shadow-lg);
  }

  .feature-badge{
    display:inline-block; 
    padding:4px 12px; 
    border-radius:20px; 
    font-size:12px; 
    font-weight:700; 
    margin-left:12px;
    text-transform:uppercase;
  }
  .feature-badge.new{
    background:linear-gradient(135deg, #10b981, #059669);
    color:#fff;
  }
  .feature-badge.beta{
    background:linear-gradient(135deg, #f59e0b, #d97706);
    color:#fff;
  }

  .notice{
    padding:18px 22px; 
    border-radius:var(--radius); 
    margin:20px 0;
    border-left:5px solid;
    background:var(--surface);
    box-shadow:var(--shadow);
  }
  .notice.success{
    border-left-color:var(--success); 
    background:linear-gradient(90deg, rgba(16,185,129,.08), transparent);
  }
  .notice.warn{
    border-left-color:var(--warn); 
    background:linear-gradient(90deg, rgba(245,158,11,.08), transparent);
  }
  .notice.danger{
    border-left-color:var(--danger); 
    background:linear-gradient(90deg, rgba(239,68,68,.08), transparent);
  }
  .notice{
    border-left-color:var(--accent);
    background:linear-gradient(90deg, rgba(0,102,204,.08), transparent);
  }

  details{
    margin:24px 0; 
    border:2px solid var(--border);
    border-radius:var(--radius); 
    overflow:hidden;
    background:var(--surface);
    box-shadow:var(--shadow);
  }
  details summary{
    padding:18px 22px; 
    font-weight:700; 
    cursor:pointer;
    background:linear-gradient(135deg, rgba(0,166,81,.05), rgba(0,102,204,.03));
    transition:background .2s;
    user-select:none;
    font-size:16px;
  }
  details summary:hover{
    background:linear-gradient(135deg, rgba(0,166,81,.1), rgba(0,102,204,.06));
  }
  details[open] summary{
    border-bottom:2px solid var(--border);
    background:linear-gradient(135deg, var(--primary), var(--primary-dark));
    color:#fff;
  }
  details .step{
    padding:14px 24px; 
    border-bottom:1px solid var(--border);
    font-size:15px;
  }
  details .step:last-child{
    border-bottom:0;
  }
  details p, details ul{
    padding:18px 24px;
  }

  ul.check{
    list-style:none; 
    padding:0;
  }
  ul.check li{
    padding:12px 0 12px 36px; 
    position:relative;
    font-size:15px;
  }
  ul.check li::before{
    content:'âœ“'; 
    position:absolute; 
    left:0; 
    top:10px;
    width:24px; 
    height:24px; 
    background:linear-gradient(135deg, var(--primary), var(--primary-dark));
    color:#fff; 
    border-radius:50%;
    display:flex; 
    align-items:center; 
    justify-content:center;
    font-weight:700;
    font-size:14px;
  }

  .srchHit{
    background:linear-gradient(135deg, #fef3c7, #fde68a);
    padding:2px 6px;
    border-radius:4px;
    font-weight:700;
  }

  footer{
    text-align:center; 
    padding:40px 24px; 
    border-top:2px solid var(--border);
    color:var(--muted);
    background:linear-gradient(135deg, rgba(0,166,81,.02), rgba(0,102,204,.02));
  }

  .tech-stack{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
    gap:20px;
    margin:24px 0;
  }
  .tech-item{
    background:var(--surface);
    border:2px solid var(--border);
    border-radius:var(--radius);
    padding:20px;
    text-align:center;
    transition:all .2s;
  }
  .tech-item:hover{
    transform:translateY(-4px);
    box-shadow:var(--shadow-lg);
    border-color:var(--primary);
  }
  .tech-item h4{
    margin:12px 0 8px;
    font-size:18px;
  }
  .tech-item p{
    font-size:14px;
    color:var(--muted);
    margin:0;
  }

  @media print{
    aside, .tools, .search{display:none}
    .layout{grid-template-columns: 1fr}
    main{padding:20px; max-width:100%}
    details{border:1px solid #ddd}
    details[open]{page-break-inside:avoid}
  }
</style>
</head>
<body data-theme="light">
  <div class="layout">
    <aside>
      <div class="brand">
        <div class="pharma-cross"></div>
        <div>
          <h1>Pharma Gestion</h1>
          <small>Guide Utilisateur v4.0</small>
        </div>
      </div>

      <div class="tools">
        <button class="btn ghost" id="printBtn">ğŸ–¨ï¸ Imprimer</button>
        <button class="btn ghost" id="toggleTheme">ğŸŒ“ ThÃ¨me</button>
        <button class="btn ghost" id="expandAll">ğŸ“– Tout Ouvrir</button>
        <button class="btn ghost" id="collapseAll">ğŸ“• Tout Fermer</button>
      </div>

      <div class="search">
        <input type="text" id="searchInput" placeholder="ğŸ” Rechercher dans la doc..." autocomplete="off">
      </div>

      <nav class="toc">
        <a href="#intro">ğŸ  Introduction</a>
        <a href="#tech">ğŸ› ï¸ Stack Technique</a>
        
        <a href="#auth">ğŸ” Authentification</a>
        <a href="#dashboard">ğŸ“Š Dashboard</a>
        <a href="#achats">ğŸ›’ Module Achats</a>
        <a href="#ventes">ğŸ’° Module Ventes</a>
        <a href="#stock">ğŸ“¦ Gestion Stock</a>
        <a href="#commandes">ğŸ“‹ Commandes Clients</a>
        <a href="#clients">ğŸ‘¥ Gestion Clients</a>
        <a href="#devis-factures">ğŸ“„ Devis & Factures</a>
        <a href="#paiements">ğŸ’³ Paiements</a>
        <a href="#cloture">ğŸ”’ ClÃ´ture Caisse</a>
        <a href="#charges">ğŸ’¸ Gestion Charges</a>
        <a href="#analytics">ğŸ“ˆ Analytics & Statistiques</a>
        <a href="#catalogue">ğŸ“š Catalogue MÃ©dicaments</a>
        <a href="#backup">ğŸ’¾ Sauvegarde & Import</a>
        <a href="#invites">ğŸ‘¤ Gestion Utilisateurs</a>
        <a href="#params">âš™ï¸ ParamÃ¨tres</a>
        <a href="#legal">âš–ï¸ Documents LÃ©gaux</a>
        <a href="#faq">â“ FAQ</a>
        <a href="#support">ğŸ†˜ Support</a>
      </nav>
    </aside>

    <main>
      <div style="margin-bottom:48px">
        <h2>Guide Complet Pharma Gestion</h2>
        <p class="lead">Documentation complÃ¨te de l'application React de gestion de pharmacie moderne</p>
      </div>

      <div>
        <section id="intro">
          <h3>ğŸ  Introduction</h3>
          <p class="lead">Pharma Gestion est une application web moderne et complÃ¨te dÃ©veloppÃ©e en React pour la gestion quotidienne des pharmacies.</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">âœ¨ FonctionnalitÃ©s Principales</h4>
            <ul class="check">
              <li><b>Gestion complÃ¨te des achats</b> : Enregistrement, suivi fournisseurs, lots et pÃ©remptions</li>
              <li><b>Gestion des ventes</b> : Point de vente moderne avec synchronisation stock temps rÃ©el</li>
              <li><b>Stock intelligent</b> : Alertes automatiques, traÃ§abilitÃ© lots, pÃ©remption</li>
              <li><b>Commandes clients</b> : Gestion complÃ¨te du cycle de commande</li>
              <li><b>Base clients</b> : Fichier client avec historique complet</li>
              <li><b>Devis & Factures</b> : GÃ©nÃ©ration automatique de documents professionnels</li>
              <li><b>Gestion paiements</b> : Suivi multi-modes (espÃ¨ces, chÃ¨ques, virements, PayPal)</li>
              <li><b>ClÃ´ture caisse</b> : RÃ©conciliation quotidienne automatique</li>
              <li><b>Charges</b> : Gestion personnels et charges diverses</li>
              <li><b>Analytics avancÃ©s</b> : Graphiques et statistiques temps rÃ©el</li>
              <li><b>Multi-utilisateurs</b> : RÃ´les et permissions granulaires</li>
              <li><b>Sauvegarde/Import</b> : Export JSON et restauration complÃ¨te</li>
            </ul>
          </div>

          <div class="notice">
            ğŸ’¡ <b>Application SaaS Multi-tenant</b> : Chaque pharmacie dispose de son espace isolÃ© avec gestion multi-utilisateurs.
          </div>
        </section>

        <section id="tech">
          <h3>ğŸ› ï¸ Stack Technique</h3>
          <p class="lead">Technologies modernes pour une application performante et Ã©volutive</p>
          
          <div class="tech-stack">
            <div class="tech-item">
              <div style="font-size:48px">âš›ï¸</div>
              <h4>React 19.1</h4>
              <p>Framework frontend avec hooks modernes</p>
            </div>
            <div class="tech-item">
              <div style="font-size:48px">ğŸ”¥</div>
              <h4>Firebase 12</h4>
              <p>Backend-as-a-Service avec Firestore</p>
            </div>
            <div class="tech-item">
              <div style="font-size:48px">ğŸ¨</div>
              <h4>Material-UI 7</h4>
              <p>Composants UI professionnels</p>
            </div>
            <div class="tech-item">
              <div style="font-size:48px">ğŸ“Š</div>
              <h4>Recharts 3</h4>
              <p>Graphiques interactifs</p>
            </div>
            <div class="tech-item">
              <div style="font-size:48px">ğŸ’³</div>
              <h4>PayPal React</h4>
              <p>IntÃ©gration paiements en ligne</p>
            </div>
            <div class="tech-item">
              <div style="font-size:48px">ğŸ“±</div>
              <h4>HTML5-QRCode</h4>
              <p>Scan codes-barres produits</p>
            </div>
          </div>

          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ“¦ DÃ©pendances Principales</h4>
            <ul class="check">
              <li><b>React Router DOM 7.7</b> : Navigation SPA fluide</li>
              <li><b>Emotion & Styled Components</b> : CSS-in-JS performant</li>
              <li><b>Tailwind CSS 4.1</b> : Utility-first styling</li>
              <li><b>Testing Library</b> : Suite complÃ¨te de tests</li>
              <li><b>Playwright</b> : Tests end-to-end automatisÃ©s</li>
              <li><b>Lighthouse CI</b> : Performance monitoring</li>
              <li><b>ESLint Security</b> : Analyse sÃ©curitÃ© du code</li>
            </ul>
          </div>
        </section>

       

        <section id="auth">
          <h3>ğŸ” Authentification & SÃ©curitÃ©</h3>
          <p class="lead">SystÃ¨me d'authentification multi-utilisateurs avec gestion des rÃ´les et invitations</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ­ RÃ´les Utilisateur</h4>
            <ul class="check">
              <li><b>Docteur / Owner</b> : AccÃ¨s complet, gestion sociÃ©tÃ© et utilisateurs</li>
              <li><b>Vendeuse</b> : AccÃ¨s ventes, clients, stock consultation</li>
              <li><b>SystÃ¨me d'invitations</b> : Code unique Ã  6 caractÃ¨res par sociÃ©tÃ©</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ‘¨â€âš•ï¸ PremiÃ¨re Inscription (Owner)</summary>
            <div class="step">AccÃ©dez Ã  la page d'inscription</div>
            <div class="step">Remplissez : Email, Mot de passe, Nom SociÃ©tÃ©</div>
            <div class="step">Validation â†’ CrÃ©ation automatique du <b>societeId</b> et <b>code d'invitation</b></div>
            <div class="step">L'utilisateur est automatiquement propriÃ©taire (isOwner: true)</div>
          </details>

          <details>
            <summary>ğŸ‘¥ Invitation Vendeuses</summary>
            <div class="step">Le propriÃ©taire accÃ¨de Ã  <b>Gestion Utilisateurs</b></div>
            <div class="step">Copie du <b>code d'invitation</b> Ã  6 caractÃ¨res</div>
            <div class="step">La vendeuse s'inscrit avec ce code</div>
            <div class="step">Rattachement automatique Ã  la sociÃ©tÃ© (mÃªme societeId)</div>
          </details>

          <div class="notice success">
            âœ… <b>SÃ©curitÃ© renforcÃ©e</b> : Firebase Authentication + Rules Firestore par societeId
          </div>
        </section>

        <section id="dashboard">
          <h3>ğŸ“Š Dashboard Principal</h3>
          <p class="lead">Vue d'ensemble temps rÃ©el de l'activitÃ© de la pharmacie</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ“ˆ Indicateurs ClÃ©s (KPI)</h4>
            <ul class="check">
              <li><b>Chiffre d'affaires</b> : Jour / Mois / AnnÃ©e avec Ã©volution</li>
              <li><b>Stock</b> : Valeur totale et nombre de produits</li>
              <li><b>Alertes</b> : Produits en rupture ou proches pÃ©remption</li>
              <li><b>ImpayÃ©s</b> : Montant total et nombre de documents</li>
              <li><b>Graphiques</b> : Ventes par pÃ©riode, Top produits, Tendances</li>
            </ul>
          </div>

          <div class="notice">
            ğŸ’¡ <b>Actualisation temps rÃ©el</b> : Les donnÃ©es se mettent Ã  jour automatiquement grÃ¢ce Ã  Firestore listeners.
          </div>
        </section>

        <section id="achats">
          <h3>ğŸ›’ Module Achats</h3>
          <p class="lead">Gestion complÃ¨te des achats fournisseurs avec traÃ§abilitÃ© lots et pÃ©remptions</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Achats</h4>
            <ul class="check">
              <li><b>Saisie rapide</b> : Scanner code-barres ou recherche produit</li>
              <li><b>Gestion lots</b> : NumÃ©ro lot, dates pÃ©remption</li>
              <li><b>Prix d'achat HT/TTC</b> : Calcul automatique TVA</li>
              <li><b>Fournisseurs</b> : Base fournisseurs avec historique</li>
              <li><b>Impact stock</b> : Synchronisation automatique en temps rÃ©el</li>
              <li><b>Documents</b> : GÃ©nÃ©ration bon de rÃ©ception</li>
            </ul>
          </div>

          <details open>
            <summary>â• Enregistrer un Achat</summary>
            <div class="step">Menu <b>Achats</b> â†’ Bouton <b>Nouvel Achat</b></div>
            <div class="step">Scannez le code-barres ou recherchez le produit</div>
            <div class="step">Renseignez : QuantitÃ©, Prix achat, Lot, Date pÃ©remption</div>
            <div class="step">SÃ©lectionnez ou crÃ©ez le fournisseur</div>
            <div class="step"><b>Enregistrer</b> â†’ Stock mis Ã  jour automatiquement</div>
          </details>

          <div class="notice warn">
            âš ï¸ <b>Lots obligatoires</b> : Pour les produits avec stock, le numÃ©ro de lot est requis pour la traÃ§abilitÃ©.
          </div>
        </section>

        <section id="ventes">
          <h3>ğŸ’° Module Ventes</h3>
          <p class="lead">Point de vente moderne avec synchronisation stock en temps rÃ©el</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Ventes</h4>
            <ul class="check">
              <li><b>POS rapide</b> : Interface optimisÃ©e pour la vente comptoir</li>
              <li><b>Scan produits</b> : Lecteur code-barres intÃ©grÃ©</li>
              <li><b>Calcul auto</b> : Prix, remises, TVA, total TTC</li>
              <li><b>Clients</b> : Association client et historique</li>
              <li><b>Paiements</b> : Multi-modes (espÃ¨ces, chÃ¨que, virement, PayPal)</li>
              <li><b>Impression</b> : Ticket, facture PDF automatique</li>
              <li><b>Sync stock</b> : DÃ©duction automatique temps rÃ©el</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ’³ Processus de Vente</summary>
            <div class="step">Menu <b>Ventes</b> â†’ <b>Nouvelle Vente</b></div>
            <div class="step">Ajoutez des produits (scan ou recherche)</div>
            <div class="step">Appliquez remises si nÃ©cessaire</div>
            <div class="step">SÃ©lectionnez le client (optionnel)</div>
            <div class="step">Choisissez le mode de paiement</div>
            <div class="step"><b>Valider</b> â†’ Stock dÃ©duit + Document gÃ©nÃ©rÃ©</div>
          </details>

          <div class="notice success">
            âœ… <b>Synchronisation intelligente</b> : Le systÃ¨me dÃ©duit automatiquement les quantitÃ©s vendues du stock avec gestion FIFO des lots.
          </div>
        </section>

        <section id="stock">
          <h3>ğŸ“¦ Gestion Stock</h3>
          <p class="lead">ContrÃ´le complet du stock avec alertes, pÃ©remptions et traÃ§abilitÃ© lots</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Stock</h4>
            <ul class="check">
              <li><b>Vue globale</b> : Liste complÃ¨te des produits en stock</li>
              <li><b>Alertes rupture</b> : Notification stock minimal atteint</li>
              <li><b>Gestion lots</b> : TraÃ§abilitÃ© complÃ¨te par numÃ©ro de lot</li>
              <li><b>PÃ©remptions</b> : Alertes automatiques selon seuil (ex: 30 jours)</li>
              <li><b>Inventaire</b> : Ajustements manuels avec justification</li>
              <li><b>Mouvements</b> : Historique complet des entrÃ©es/sorties</li>
              <li><b>Valorisation</b> : Calcul automatique valeur stock</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ“Š Consultation Stock</summary>
            <div class="step">Menu <b>Stock</b> pour accÃ©der au module</div>
            <div class="step">Filtrez par : CatÃ©gorie, Rupture, PÃ©remption proche</div>
            <div class="step">Consultez les dÃ©tails : QuantitÃ©, Lots, Prix moyen</div>
            <div class="step">AccÃ©dez Ã  l'historique des mouvements</div>
          </details>

          <details>
            <summary>âš ï¸ Ajustement Inventaire</summary>
            <div class="step">SÃ©lectionnez le produit Ã  ajuster</div>
            <div class="step">Cliquez sur <b>Ajuster Stock</b></div>
            <div class="step">Indiquez la nouvelle quantitÃ© et le motif</div>
            <div class="step">Validez â†’ Mouvement enregistrÃ© avec traÃ§abilitÃ©</div>
          </details>

          <div class="notice warn">
            âš ï¸ <b>Seuils configurables</b> : DÃ©finissez vos propres seuils d'alerte dans les ParamÃ¨tres.
          </div>
        </section>

        <section id="commandes">
          <h3>ğŸ“‹ Commandes Clients</h3>
          <p class="lead">Gestion complÃ¨te du cycle de vie des commandes clients</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Commandes</h4>
            <ul class="check">
              <li><b>CrÃ©ation commande</b> : Formulaire complet avec multi-produits</li>
              <li><b>Statuts</b> : En attente, En cours, LivrÃ©e, AnnulÃ©e</li>
              <li><b>Suivi client</b> : Historique commandes par client</li>
              <li><b>Notifications</b> : Alertes SMS/Email (optionnel)</li>
              <li><b>Conversion</b> : Transformation en vente directe</li>
              <li><b>Documents</b> : Bon de commande PDF</li>
            </ul>
          </div>

          <details open>
            <summary>â• CrÃ©er une Commande</summary>
            <div class="step">Menu <b>Commandes</b> â†’ <b>Nouvelle Commande</b></div>
            <div class="step">SÃ©lectionnez ou crÃ©ez le client</div>
            <div class="step">Ajoutez les produits commandÃ©s</div>
            <div class="step">DÃ©finissez date livraison prÃ©vue</div>
            <div class="step">Statut initial : <b>En attente</b></div>
            <div class="step">Enregistrez â†’ Client notifiÃ©</div>
          </details>

          <details>
            <summary>âœ… Valider une Commande</summary>
            <div class="step">Ouvrez la commande</div>
            <div class="step">Changez le statut en <b>LivrÃ©e</b></div>
            <div class="step">Option : Convertir en vente automatique</div>
            <div class="step">Stock dÃ©duit si conversion activÃ©e</div>
          </details>
        </section>

        <section id="clients">
          <h3>ğŸ‘¥ Gestion Clients</h3>
          <p class="lead">Base clients complÃ¨te avec historique et fidÃ©lisation</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Clients</h4>
            <ul class="check">
              <li><b>Fiche client</b> : Nom, prÃ©nom, tÃ©lÃ©phone, email, adresse</li>
              <li><b>Historique achats</b> : Toutes les ventes par client</li>
              <li><b>Compte client</b> : Solde impayÃ©s en temps rÃ©el</li>
              <li><b>Statistiques</b> : CA par client, frÃ©quence achats</li>
              <li><b>Export</b> : Liste clients CSV/Excel</li>
              <li><b>WhatsApp</b> : Envoi message direct depuis la fiche</li>
            </ul>
          </div>

          <details open>
            <summary>â• Ajouter un Client</summary>
            <div class="step">Menu <b>Clients</b> â†’ <b>Nouveau Client</b></div>
            <div class="step">Remplissez les informations (tÃ©lÃ©phone recommandÃ©)</div>
            <div class="step">Enregistrez â†’ Fiche crÃ©Ã©e</div>
            <div class="step">Le client apparaÃ®t dans les listes dÃ©roulantes</div>
          </details>

          <details>
            <summary>ğŸ“Š Consulter Historique Client</summary>
            <div class="step">Recherchez le client dans la liste</div>
            <div class="step">Cliquez sur la fiche client</div>
            <div class="step">Onglet <b>Historique</b> : Toutes les ventes</div>
            <div class="step">Visualisez : Dates, montants, dÃ©tails produits</div>
          </details>
        </section>

        <section id="devis-factures">
          <h3>ğŸ“„ Devis & Factures <span class="feature-badge new">AmÃ©liorÃ©</span></h3>
          <p class="lead">GÃ©nÃ©ration automatique de documents professionnels personnalisÃ©s</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Documents</h4>
            <ul class="check">
              <li><b>Devis</b> : CrÃ©ation, conversion en facture</li>
              <li><b>Factures</b> : NumÃ©rotation automatique, mentions lÃ©gales</li>
              <li><b>Personnalisation</b> : Logo, en-tÃªte, cachet, pied de page</li>
              <li><b>Multi-paiements</b> : Suivi acomptes et soldes</li>
              <li><b>Statuts</b> : Brouillon, EnvoyÃ©, PayÃ©, ImpayÃ©</li>
              <li><b>Export PDF</b> : QualitÃ© professionnelle</li>
              <li><b>Relances</b> : Envoi automatique impayÃ©s</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ“ CrÃ©er un Devis</summary>
            <div class="step">Menu <b>Devis & Factures</b> â†’ <b>Nouveau Devis</b></div>
            <div class="step">SÃ©lectionnez le client</div>
            <div class="step">Ajoutez les produits avec quantitÃ©s et prix</div>
            <div class="step">Appliquez remises globales ou par ligne</div>
            <div class="step">Validez â†’ PDF gÃ©nÃ©rÃ© automatiquement</div>
          </details>

          <details>
            <summary>ğŸ”„ Convertir Devis en Facture</summary>
            <div class="step">Ouvrez le devis validÃ©</div>
            <div class="step">Cliquez sur <b>Convertir en Facture</b></div>
            <div class="step">NumÃ©ro de facture attribuÃ© automatiquement</div>
            <div class="step">Stock dÃ©duit si option activÃ©e</div>
          </details>

          <div class="notice">
            ğŸ’¡ <b>Personnalisation complÃ¨te</b> : Configurez votre en-tÃªte, logo et cachet dans ParamÃ¨tres â†’ Documents.
          </div>
        </section>

        <section id="paiements">
          <h3>ğŸ’³ Gestion Paiements <span class="feature-badge new">Multi-modes</span></h3>
          <p class="lead">Suivi complet des encaissements avec rÃ©conciliation automatique</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ Modes de Paiement</h4>
            <ul class="check">
              <li><b>EspÃ¨ces</b> : Caisse physique avec clÃ´ture journaliÃ¨re</li>
              <li><b>ChÃ¨que</b> : NumÃ©ro chÃ¨que, banque, date encaissement</li>
              <li><b>Virement</b> : RÃ©fÃ©rence bancaire</li>
              <li><b>PayPal</b> : IntÃ©gration API paiements en ligne</li>
              <li><b>Mixtes</b> : Plusieurs modes sur une mÃªme facture</li>
              <li><b>Acomptes</b> : Paiements partiels avec suivi solde</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ’° Enregistrer un Paiement</summary>
            <div class="step">AccÃ©dez au document (facture, vente)</div>
            <div class="step">Cliquez sur <b>Ajouter Paiement</b></div>
            <div class="step">Choisissez le mode et le montant</div>
            <div class="step">Renseignez les dÃ©tails (nÂ° chÃ¨que, etc.)</div>
            <div class="step">Validez â†’ Solde recalculÃ© automatiquement</div>
          </details>

          <details>
            <summary>ğŸ“Š Suivi ImpayÃ©s</summary>
            <div class="step">Menu <b>Paiements</b> â†’ Filtre <b>ImpayÃ©s</b></div>
            <div class="step">Liste des factures/ventes non soldÃ©es</div>
            <div class="step">Montant restant dÃ» affichÃ©</div>
            <div class="step">Action : Relance client ou nouveau paiement</div>
          </details>

          <div class="notice warn">
            âš ï¸ <b>IntÃ©gration PayPal</b> : Configurez vos clÃ©s API dans ParamÃ¨tres pour activer les paiements en ligne.
          </div>
        </section>

        <section id="cloture">
          <h3>ğŸ”’ ClÃ´ture Caisse</h3>
          <p class="lead">RÃ©conciliation quotidienne automatique des encaissements</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s ClÃ´ture</h4>
            <ul class="check">
              <li><b>SynthÃ¨se quotidienne</b> : Tous encaissements de la journÃ©e</li>
              <li><b>Par mode</b> : EspÃ¨ces, ChÃ¨ques, Virements sÃ©parÃ©s</li>
              <li><b>Comptage physique</b> : Saisie caisse rÃ©elle</li>
              <li><b>Ã‰carts</b> : Calcul automatique diffÃ©rence thÃ©orique/rÃ©el</li>
              <li><b>Historique</b> : Toutes les clÃ´tures passÃ©es</li>
              <li><b>Export</b> : Rapport PDF quotidien</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ“Š Effectuer une ClÃ´ture</summary>
            <div class="step">Menu <b>ClÃ´ture Caisse</b> en fin de journÃ©e</div>
            <div class="step">Le systÃ¨me affiche : CA total, par mode de paiement</div>
            <div class="step">Saisissez le <b>montant rÃ©el</b> en caisse</div>
            <div class="step">VÃ©rifiez les Ã©carts (affichÃ© en rouge/vert)</div>
            <div class="step">Ajoutez un commentaire si Ã©cart significatif</div>
            <div class="step"><b>Valider</b> â†’ ClÃ´ture enregistrÃ©e, rapport PDF</div>
          </details>

          <div class="notice success">
            âœ… <b>ContrÃ´le automatique</b> : Le systÃ¨me dÃ©tecte automatiquement les incohÃ©rences et vous alerte.
          </div>
        </section>

        <section id="charges">
          <h3>ğŸ’¸ Gestion Charges <span class="feature-badge new">Nouveau</span></h3>
          <p class="lead">Suivi complet des charges personnels et frais gÃ©nÃ©raux</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ Types de Charges</h4>
            <ul class="check">
              <li><b>Charges Personnels</b> : Salaires, cotisations sociales, primes</li>
              <li><b>Charges Diverses</b> : Loyer, Ã©lectricitÃ©, tÃ©lÃ©phone, fournitures</li>
              <li><b>RÃ©currence</b> : Charges mensuelles, trimestrielles, annuelles</li>
              <li><b>CatÃ©gorisation</b> : Classification personnalisable</li>
              <li><b>Statistiques</b> : Ã‰volution charges par pÃ©riode</li>
              <li><b>Budget</b> : Suivi vs budget prÃ©visionnel</li>
            </ul>
          </div>

          <details open>
            <summary>â• Ajouter une Charge</summary>
            <div class="step">Menu <b>Charges Personnels</b> ou <b>Charges Divers</b></div>
            <div class="step">Cliquez sur <b>Nouvelle Charge</b></div>
            <div class="step">Renseignez : Type, Montant, Date, CatÃ©gorie</div>
            <div class="step">Option : DÃ©finir comme rÃ©currente</div>
            <div class="step">Joindre justificatif (optionnel)</div>
            <div class="step">Enregistrez â†’ Impact sur la rentabilitÃ©</div>
          </details>

          <div class="notice">
            ğŸ’¡ <b>Analyse rentabilitÃ©</b> : Les charges sont automatiquement prises en compte dans les calculs de marge nette.
          </div>
        </section>

        <section id="analytics">
          <h3>ğŸ“ˆ Analytics & Statistiques <span class="feature-badge new">AvancÃ©</span></h3>
          <p class="lead">Tableaux de bord interactifs et graphiques temps rÃ©el</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ Analyses Disponibles</h4>
            <ul class="check">
              <li><b>Ventes</b> : Ã‰volution CA par jour/mois/annÃ©e (Recharts)</li>
              <li><b>Top Produits</b> : Classement bestsellers</li>
              <li><b>Marge</b> : Analyse rentabilitÃ© par produit/catÃ©gorie</li>
              <li><b>Clients</b> : Segmentation et comportement d'achat</li>
              <li><b>Stock</b> : Rotation, valorisation, ruptures</li>
              <li><b>Tendances</b> : PrÃ©visions basÃ©es sur historique</li>
              <li><b>Export</b> : Tous graphiques en PDF/Excel</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ“Š AccÃ©der aux Analytics</summary>
            <div class="step">Menu <b>Analytics</b> (icÃ´ne graphique)</div>
            <div class="step">SÃ©lectionnez la pÃ©riode d'analyse</div>
            <div class="step">Choisissez le type de graphique souhaitÃ©</div>
            <div class="step">Interagissez : Zoom, filtres, dÃ©tails au survol</div>
            <div class="step">Exportez si besoin (bouton Export)</div>
          </details>

          <div class="notice success">
            âœ… <b>Graphiques interactifs</b> : Utilise Recharts pour des visualisations modernes et responsives.
          </div>
        </section>

        <section id="catalogue">
          <h3>ğŸ“š Catalogue MÃ©dicaments <span class="feature-badge new">PartagÃ©</span></h3>
          <p class="lead">Base de donnÃ©es centralisÃ©e des mÃ©dicaments</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Catalogue</h4>
            <ul class="check">
              <li><b>Base partagÃ©e</b> : Catalogue commun toutes pharmacies</li>
              <li><b>Recherche rapide</b> : Par nom, DCI, laboratoire</li>
              <li><b>Informations complÃ¨tes</b> : Prix, forme, dosage, PPV, PPH</li>
              <li><b>Codes-barres</b> : GÃ©nÃ©ration automatique EAN13</li>
              <li><b>Mise Ã  jour</b> : Synchronisation automatique</li>
              <li><b>Ajout produits</b> : Contribution communautaire</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ” Rechercher un MÃ©dicament</summary>
            <div class="step">Menu <b>Catalogue</b></div>
            <div class="step">Utilisez la barre de recherche</div>
            <div class="step">Filtrez par catÃ©gorie ou laboratoire</div>
            <div class="step">Consultez la fiche complÃ¨te</div>
            <div class="step">Option : Ajouter Ã  votre stock</div>
          </details>

          <div class="notice">
            ğŸ’¡ <b>Catalogue collaboratif</b> : Les nouveaux produits ajoutÃ©s sont disponibles pour toutes les pharmacies du rÃ©seau.
          </div>
        </section>

        <section id="backup">
          <h3>ğŸ’¾ Sauvegarde & Import <span class="feature-badge new">AmÃ©liorÃ©</span></h3>
          <p class="lead">Export complet de vos donnÃ©es et restauration en un clic</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Backup</h4>
            <ul class="check">
              <li><b>Export complet</b> : Toutes collections Firestore en JSON</li>
              <li><b>SÃ©lectif</b> : Choisir collections Ã  exporter</li>
              <li><b>Import</b> : Restauration complÃ¨te ou fusion</li>
              <li><b>Validation</b> : AperÃ§u avant import</li>
              <li><b>Mode remplacement</b> : Ã‰crase donnÃ©es existantes</li>
              <li><b>Mode fusion</b> : Conserve donnÃ©es + ajoute nouvelles</li>
              <li><b>Historique</b> : Liste des sauvegardes effectuÃ©es</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ“¥ Exporter les DonnÃ©es</summary>
            <div class="step">Menu <b>Sauvegarde</b> â†’ Onglet <b>Export</b></div>
            <div class="step">SÃ©lectionnez les collections Ã  exporter (ou tout)</div>
            <div class="step">Cliquez sur <b>TÃ©lÃ©charger Sauvegarde JSON</b></div>
            <div class="step">Fichier tÃ©lÃ©chargÃ© : <code>backup-YYYY-MM-DD.json</code></div>
            <div class="step">Conservez ce fichier en lieu sÃ»r</div>
          </details>

          <details>
            <summary>ğŸ“¤ Importer une Sauvegarde</summary>
            <div class="step">Menu <b>Sauvegarde</b> â†’ Onglet <b>Import</b></div>
            <div class="step">SÃ©lectionnez votre fichier JSON de backup</div>
            <div class="step">PrÃ©visualisation : collections et nombre de documents</div>
            <div class="step">Choisissez : <b>Remplacement</b> ou <b>Fusion</b></div>
            <div class="step">Confirmez â†’ Import : prÃ©visualisez â†’ choisir remplacement ou fusion</div>
          </details>
          <div class="notice danger">âš ï¸ <b>Mode remplacement</b> : supprime toutes les donnÃ©es existantes avant l'import. Utilisez avec prÃ©caution.</div>
        </section>

        <section id="invites">
          <h3>ğŸ‘¤ Gestion des Utilisateurs <span class="feature-badge new">AmÃ©liorÃ©</span></h3>
          <p class="lead">Module complet de gestion d'Ã©quipe avec suppression, restauration et changement de rÃ´les.</p>
          
          <div class="card" style="margin-bottom:16px">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ¯ FonctionnalitÃ©s Utilisateurs</h4>
            <ul class="check">
              <li><b>Invitation</b> : Code ou lien direct pour nouveaux utilisateurs</li>
              <li><b>RÃ´les</b> : Docteur (owner) ou Vendeuse, modifiable Ã  tout moment</li>
              <li><b>Suppression</b> : Marquage avec blocage d'accÃ¨s (conserve historique)</li>
              <li><b>Restauration</b> : RÃ©activation d'un utilisateur supprimÃ©</li>
              <li><b>Suppression dÃ©finitive</b> : Suppression Firestore irrÃ©versible</li>
              <li><b>Filtres</b> : Tous, Actifs uniquement, SupprimÃ©s uniquement</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ—‘ï¸ Supprimer un utilisateur</summary>
            <div class="step">Menu <b>Gestion Utilisateurs</b> (rÃ©servÃ© au Docteur/Owner)</div>
            <div class="step">Cliquez sur <b>Supprimer</b> Ã  cÃ´tÃ© de l'utilisateur</div>
            <div class="step">Confirmez : l'utilisateur est marquÃ© "supprimÃ©" et bloquÃ©</div>
            <div class="step">L'historique de ses actions est conservÃ© pour traÃ§abilitÃ©</div>
          </details>

          <details>
            <summary>ğŸ”„ Restaurer un utilisateur</summary>
            <div class="step">Filtrez sur <b>Utilisateurs supprimÃ©s</b></div>
            <div class="step">Cliquez sur <b>Restaurer</b> Ã  cÃ´tÃ© de l'utilisateur</div>
            <div class="step">L'utilisateur retrouve son accÃ¨s et peut se reconnecter</div>
          </details>

          <div class="notice warn">âš ï¸ <b>SÃ©curitÃ© :</b> Seul le propriÃ©taire (Docteur) peut gÃ©rer les utilisateurs. Un utilisateur ne peut pas se supprimer lui-mÃªme.</div>
        </section>

        <section id="params">
          <h3>âš™ï¸ ParamÃ¨tres GÃ©nÃ©raux</h3>
          <p class="lead">Configuration complÃ¨te : documents (en-tÃªte/pied/cachet), informations officine (ICE/IF/RC), alertes stock et pÃ©remption.</p>
          <details open>
            <summary>ğŸ–¼ï¸ Cachet & En-tÃªte</summary>
            <p>TÃ©lÃ©chargez une image ou crÃ©ez un cachet texte. Taille ajustable, activation/dÃ©sactivation flexible.</p>
          </details>
          <details>
            <summary>ğŸ”” Alertes Stock</summary>
            <p>DÃ©finissez un seuil global, configurez les alertes pÃ©remption (ex: 30 jours), numÃ©rotation automatique des lots.</p>
          </details>
          <details>
            <summary>ğŸ¢ Informations SociÃ©tÃ©</summary>
            <p>Configurez : Nom officine, ICE, IF, RC, TVA, Adresse, TÃ©lÃ©phone, Email pour les documents officiels.</p>
          </details>
        </section>

        <section id="legal">
          <h3>âš–ï¸ Documents LÃ©gaux <span class="feature-badge new">Nouveau</span></h3>
          <p class="lead">AccÃ¨s centralisÃ© Ã  tous les documents juridiques et conditions d'utilisation.</p>
          
          <div class="card">
            <h4 style="margin-bottom:12px;color:var(--primary);">ğŸ“œ Documents Disponibles</h4>
            <ul class="check">
              <li><b>CGU</b> : Conditions GÃ©nÃ©rales d'Utilisation du logiciel SaaS</li>
              <li><b>CGV</b> : Conditions GÃ©nÃ©rales de Vente et abonnements</li>
              <li><b>ConfidentialitÃ© & RGPD</b> : Politique de protection des donnÃ©es</li>
              <li><b>Mentions LÃ©gales</b> : Informations lÃ©gales Ã©diteur/hÃ©bergeur</li>
              <li><b>SLA</b> : Accord de Niveau de Service et garanties</li>
            </ul>
          </div>

          <details open>
            <summary>ğŸ“‹ AccÃ¨s aux documents</summary>
            <div class="step">Menu principal â†’ <b>Documents LÃ©gaux</b></div>
            <div class="step">SÃ©lectionnez l'onglet correspondant au document souhaitÃ©</div>
            <div class="step">Consultez le contenu complet avec navigation par sections</div>
            <div class="step">Utilisez le bouton <b>â† Retour</b> pour revenir Ã  l'application</div>
          </details>

          <div class="notice">ğŸ’¡ Ces documents sont conformes Ã  la lÃ©gislation marocaine (Loi 09-08) et au RGPD europÃ©en.</div>
        </section>

        <section id="faq">
          <h3>â“ Questions FrÃ©quentes</h3>
          <details open>
            <summary>ğŸš« Rien ne s'affiche dans l'application</summary>
            <p>VÃ©rifiez votre compte connectÃ© (rÃ´le, identifiant sociÃ©tÃ©) et votre connexion internet. Essayez de vous dÃ©connecter puis reconnecter.</p>
          </details>
          <details>
            <summary>âš ï¸ Le bouton Enregistrer ne fonctionne pas</summary>
            <p>Assurez-vous que tous les champs requis sont remplis : produit, quantitÃ©, lot (si stock > 0).</p>
          </details>
          <details>
            <summary>ğŸ–¨ï¸ ProblÃ¨mes d'impression</summary>
            <p>Utilisez le bouton <b>PDF</b> en haut de page pour un rendu optimal. Sur mobile, privilÃ©giez Chrome ou Safari.</p>
          </details>
          <details>
            <summary>ğŸ”„ Synchronisation entre appareils</summary>
            <p>La synchronisation Firebase est automatique. En cas de problÃ¨me, vÃ©rifiez votre connexion et rafraÃ®chissez la page.</p>
          </details>
          <details>
            <summary>ğŸ’µ Modifier un paiement dÃ©jÃ  enregistrÃ©</summary>
            <p>Allez dans le module <b>Paiements</b>, dÃ©veloppez le document concernÃ©, puis cliquez sur <b>Modifier</b> ou <b>ğŸ—‘ï¸ Supprimer</b> Ã  cÃ´tÃ© du paiement.</p>
          </details>
          <details>
            <summary>ğŸ“± Message WhatsApp ne part pas</summary>
            <p>VÃ©rifiez que le numÃ©ro de tÃ©lÃ©phone est au format international (+212...). Le message s'ouvre dans WhatsApp, vous devez cliquer sur <b>Envoyer</b>.</p>
          </details>
          <details>
            <summary>ğŸ”§ Comment mettre Ã  jour l'application ?</summary>
            <p>L'application se met Ã  jour automatiquement. RafraÃ®chissez simplement votre navigateur (Ctrl+F5) pour charger la derniÃ¨re version.</p>
          </details>
        </section>

        <section id="support">
          <h3>ğŸ†˜ Support Technique</h3>
          <p class="lead">Besoin d'assistance ? Notre Ã©quipe est disponible via WhatsApp :</p>
          <p style="margin-top:24px">
            <a class="btn accent" id="waLink" target="_blank" rel="noopener" style="font-size:16px;padding:14px 28px;">
              ğŸ“± Contacter le Support WhatsApp
            </a>
          </p>
          <p style="margin-top:16px;color:var(--muted);font-size:14px;">
            ğŸ“ <span id="waNumber"></span>
          </p>
          
          
        </section>

      </div>

      <footer>
        <div style="margin-bottom:8px">
          <div class="pharma-cross" style="width:32px;height:32px;margin:0 auto 12px"></div>
        </div>
        Â© <span id="year"></span> <b>Pharma Gestion</b> â€“ Guide Utilisateur Professionnel
        <br>
        <small style="margin-top:8px;display:block">Tous droits rÃ©servÃ©s â€¢ Version 4.0 â€¢ Application React Moderne</small>
        <small style="margin-top:4px;display:block">
          
        </small>
      </footer>
    </main>
  </div>

<script>
(function(){
  const qs = (s, el=document)=>el.querySelector(s);
  const qsa = (s, el=document)=>[...el.querySelectorAll(s)];

  // THEME
  const theme = localStorage.getItem("docTheme") || "light";
  document.body.setAttribute("data-theme", theme);

  // Buttons
  qs("#printBtn").addEventListener("click", ()=> window.print());
  qs("#toggleTheme").addEventListener("click", ()=>{
    const next = document.body.getAttribute("data-theme")==="dark" ? "light" : "dark";
    document.body.setAttribute("data-theme", next);
    localStorage.setItem("docTheme", next);
  });
  qs("#expandAll").addEventListener("click", ()=> qsa("details").forEach(d=> d.open = true));
  qs("#collapseAll").addEventListener("click", ()=> qsa("details").forEach(d=> d.open = false));

  // TOC active
  const tocLinks = qsa(".toc a");
  const sections = qsa("main section[id]");
  const makeActive = (id)=>{
    tocLinks.forEach(a=> a.classList.toggle("active", a.getAttribute("href") === ("#"+id)));
  };
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){ makeActive(entry.target.id); }
    });
  }, { rootMargin: "-40% 0px -55% 0px", threshold: 0.01 });
  sections.forEach(s=> io.observe(s));

  // Search
  const searchInput = qs("#searchInput"); let lastQuery = "";
  searchInput.addEventListener("input", ()=>{
    const q = searchInput.value.trim().toLowerCase();
    if(q === lastQuery) return; lastQuery = q;

    sections.forEach(sec=>{
      qsa(".srchHit", sec).forEach(hit=>{
        const parent = hit.parentNode;
        parent.replaceChild(document.createTextNode(hit.textContent), hit);
        parent.normalize();
      });

      if(!q){ sec.classList.remove("hidden"); return; }

      const text = sec.textContent.toLowerCase();
      const show = text.includes(q);
      sec.classList.toggle("hidden", !show);

      if(show){ highlight(sec, q); }
    });
  });

  function highlight(root, q){
    const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, null);
    const nodes = [];
    while(walker.nextNode()) nodes.push(walker.currentNode);
    nodes.forEach(node=>{
      const idx = node.nodeValue.toLowerCase().indexOf(q);
      if(idx >= 0 && node.nodeValue.trim()){
        const range = document.createRange();
        range.setStart(node, idx);
        range.setEnd(node, idx + q.length);
        const mark = document.createElement("span");
        mark.className = "srchHit";
        range.surroundContents(mark);
      }
    });
  }

  // WhatsApp
  const waNumber = "+33749618704";
  const waText = encodeURIComponent("Bonjour, j'ai besoin d'aide avec Pharma Gestion...");
  const waLink = qs("#waLink");
  waLink.href = `https://wa.me/${waNumber}?text=${waText}`;
  qs("#waNumber").textContent = waNumber;

  // Footer
  qs("#year").textContent = new Date().getFullYear();

  // Smooth scroll
  qsa('a[href^="#"]').forEach(a=>{
    a.addEventListener("click", (e)=>{
      const id = a.getAttribute("href").slice(1);
      const target = qs("#"+id);
      if(target){
        e.preventDefault();
        target.scrollIntoView({ behavior:"smooth", block:"start" });
        history.replaceState(null, "", "#"+id);
      }
    });
  });
})();
</script>
</body>
</html>